From d3ed756ee8603183ca3f4813bd150b5d4bde6acf Mon Sep 17 00:00:00 2001
From: Olivier Roussel <olivier.roussel@inria.fr>
Date: Fri, 9 Jan 2026 14:26:24 +0100
Subject: [PATCH] remove unnecessary export symbols for imgui

---
 SofaImGui/CMakeLists.txt                             | 4 ----
 SofaImGui/extensions/SofaImGui.Camera/CMakeLists.txt | 4 ++++
 2 files changed, 4 insertions(+), 4 deletions(-)

diff --git a/SofaImGui/CMakeLists.txt b/SofaImGui/CMakeLists.txt
index 33bab61..af8286f 100644
--- a/SofaImGui/CMakeLists.txt
+++ b/SofaImGui/CMakeLists.txt
@@ -147,10 +147,6 @@ target_link_libraries(${PROJECT_NAME} PUBLIC SofaGLFW Sofa.GL.Component.Renderin
 target_link_libraries(${PROJECT_NAME} PRIVATE nfd)
 target_link_libraries(${PROJECT_NAME} PRIVATE SimpleIni::SimpleIni)
 
-# setup the same API exports for imgui
-target_compile_definitions(${PROJECT_NAME} PUBLIC IMGUI_API=SOFAIMGUI_API)
-target_compile_definitions(${PROJECT_NAME} PUBLIC IMGUI_USER_CONFIG=<SofaImGui/config.h>)
-
 find_package(SofaPython3 QUIET)
 if(SofaPython3_FOUND)
     add_subdirectory(bindings)
diff --git a/SofaImGui/extensions/SofaImGui.Camera/CMakeLists.txt b/SofaImGui/extensions/SofaImGui.Camera/CMakeLists.txt
index 31a9872..c639792 100644
--- a/SofaImGui/extensions/SofaImGui.Camera/CMakeLists.txt
+++ b/SofaImGui/extensions/SofaImGui.Camera/CMakeLists.txt
@@ -32,6 +32,10 @@ add_library(${PROJECT_NAME} SHARED ${HEADER_FILES} ${SOURCE_FILES})
 target_include_directories(${PROJECT_NAME} PUBLIC "$<BUILD_INTERFACE:${IMGUI_SOURCE_DIR}>")
 target_link_libraries(${PROJECT_NAME} PUBLIC SofaImGui)
 
+# setup the same API exports for imgui
+target_compile_definitions(${PROJECT_NAME} PUBLIC IMGUI_API=SOFAIMGUI_API)
+target_compile_definitions(${PROJECT_NAME} PUBLIC IMGUI_USER_CONFIG=<SofaImGui/config.h>)
+
 sofa_create_package_with_targets(
     PACKAGE_NAME ${PROJECT_NAME}
     PACKAGE_VERSION ${PROJECT_VERSION}
-- 
2.43.0

